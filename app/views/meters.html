<md-card>
  <md-card-content>
    <md-content>
      <md-subheader class="md-primary">
        Use this panel to manage connection meters
        <!--<span class="pull-right" style="color:#E0E0E0;font-size: 22px;font-weight: 200;">{{totalMeters | number}} Meters</span>-->

      </md-subheader>
      <md-content>

        <md-button ng-show="$root.meter_create" class="md-primary pull-right" ng-click="addMeterDialog();">
          <span class="icon-plus action-button" aria-hidden="true"></span>
        </md-button>
        <div class="clearfix"></div>
        <div ng-show="errorOccured" class="alert alert-danger" role="alert">
          {{errorMsg}}
        </div>
        <md-input-container flex class="md-default-theme">
          <label for="input_041">Search</label>
          <input ng-init="contactsGroupFilter = {}" ng-model="searchFilter.text" ng-change="seach()" class="ng-pristine ng-valid md-input ng-touched" tabindex="0" id="input_041" aria-invalid="false">
        </md-input-container>

        <table class="table table-hover">
          <thead>
          <tr>
            <th>Meter No</th>

            <th>Account#</th>
            <th>Initial Reading</th>
            <th>Owner</th>

            <th>Size</th>
            <th>
              <span class="pull-right">Rent Amount</span>
            </th>
            <th>Charge</th>
            <th>Created</th>
            <th>
              <span class="pull-right">{{totalMeters | number}} Records</span>
            </th>
          </tr>
          </thead>
          <tbody>
          <tr dir-paginate="meter in meters | itemsPerPage: 10" total-items="totalMeters" pagination-id="pagePagination">
            <td>{{ meter.meterNo | uppercase}}</td>

            <td>{{meter.accountId}}</td>

            <td>{{meter.initialReading | number}}</td>
            <td>{{meter.meterOwner.name}}</td>
            <td>{{meter.meterSize.size | uppercase}}</td>
            <td align="right">{{meter.meterSize.rentAmount | number }}</td>
            <td>
              {{meter.meterOwner.charge | uppercase}}
            </td>
            <td>
              {{meter.createdOn | date}}
            </td>
            <td align="right">
              <md-button ng-show="!meter.assigned" class="md-primary" ng-click="allocateMeterDialog($index)">
                Allocate
              </md-button>
              <md-button ng-show="meter.assigned" class="md-primary" ng-click="deallocateMeterDialog($index)">Deallocate</md-button>
              <md-button class="md-primary" ng-click="editMeterDialog($index)">Edit</md-button>
            </td>
          </tr>
          <tr>
            <td colspan="10" align="center">
              <dir-pagination-controls on-page-change="pageChanged(newPageNumber)" pagination-id="pagePagination"></dir-pagination-controls>
            </td>
          </tr>
          </tbody>
        </table>
      </md-content>
    </md-content>
  </md-card-content>
</md-card>
