<md-dialog aria-label="Edit connection" flex>
  <md-content>
    <md-subheader class="md-sticky-no-effect md-primary">Use this panel to edit account info</md-subheader>
    <div layout="column" flex>
      <md-content class="md-padding">
        <form name="myForm.object">
          <md-input-container>
            <label>Account Number</label>
            <input maxlength="9" required  name="accNo" ng-model="form.accNo">

            <div ng-messages="myForm.object.accNo.$error">
              <div ng-message="required">This is required.</div>
              <div ng-message="maxlength">The account number has to be less than 9 characters long.</div>
            </div>
          </md-input-container>

          <md-input-container>
            <label>Average Consumption</label>
            <input maxlength="4" type="number" name="averageConsumption" ng-model="form.averageConsumption">

            <div ng-messages="myForm.object.averageConsumption.$error">
              <div ng-message="required">This is required.</div>
              <div ng-message="md-maxlength">The name has to be less than 4 characters long.</div>
            </div>
          </md-input-container>

          <!--Balance brought forward-->
          <md-input-container>
            <label>Balance Brought Forward (KES)</label>
            <input maxlength="6" type="number" name="balanceBroughtForward" ng-model="form.balanceBroughtForward">

            <div ng-messages="myForm.object.balanceBroughtForward.$error">
              <div ng-message="required">This is required.</div>
              <div ng-message="md-maxlength">The name has to be less than 6 characters long.</div>
            </div>
          </md-input-container>

          <!-- Metered -->
          <div ng-show="form.metered">
            <md-input-container>
              <label>Metered</label>
              <input name="metered" disabled="disabled" ng-model="form.meter.meterNo">
            </md-input-container>
          </div>

          <!-- Metered -->
          <div ng-show="!form.metered">
            <md-input-container>
              <label>Metered</label>
              <input name="metered" disabled="disabled" ng-model="form.metered">
            </md-input-container>
          </div>

          <div flex layout="row">
            <div flex="30">

              <!--Connection Location-->
              <md-select required name="location" ng-model="form.accLocation" placeholder="Assign account location">
                <md-option ng-repeat="location in locations" value="{{$index}}"
                           ng-selected="{{location.locationId == selectedAccount.location.locationId}}">
                  {{location.name}}
                </md-option>
              </md-select>
              <div ng-messages="myForm.object.location.$error">
                <div ng-message="required">This is required.</div>
              </div>

            </div>

            <div flex="30">

              <!--Connection zone-->
              <md-select required name="zone" ng-model="form.accZone" placeholder="Assign account zone">
                <md-option ng-repeat="zone in zones" value="{{$index}}"
                           ng-selected="{{zone.zoneId == selectedAccount.zone.zoneId}}">
                  {{zone.name}}
                </md-option>
              </md-select>
              <div ng-messages="myForm.object.zone.$error">
                <div ng-message="required">This is required.</div>
              </div>

            </div>

            <div flex="30">


              <!--Connection tariff-->
              <md-select required name="tariff" ng-model="form.accTariff" placeholder="Assign account tariff">
                <md-option ng-repeat="tariff in tariffs" value="{{$index}}"
                           ng-selected="{{tariff.tariffId == selectedAccount.tariff.tariffId}}">
                  {{tariff.name}}
                </md-option>
              </md-select>
              <div ng-messages="myForm.object.tariff.$error">
                <div ng-message="required">This is required.</div>
              </div>

            </div>


          </div>

          <br />

          <div ng-show="showErrorInfo" ng-class="errorClass" role="alert">{{errorMsg}}

            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          </div>

          <div  layout="row">
            <br>
            <span flex></span>
            <md-button ng-click="cancel();">
              Close
            </md-button>
            <md-button class="md-primary" ng-click="update(form);">
              Update
            </md-button>
          </div>
        </form>
      </md-content>
    </div>
  </md-content>
</md-dialog>
